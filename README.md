# Telegram –ë–æ—Ç —Å –ê–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–∞–º–∏

–ë–æ—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ –∑–∞–∫—Ä—ã—Ç—ã–π Telegram –∫–∞–Ω–∞–ª —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –¥–æ—Å—Ç—É–ø–æ–º.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–ª–∞—Ç–µ–∂–∏** - –ø–æ–¥–ø–∏—Å–∫–∞ –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏  
‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–ø–ª–∞—Ç–µ  
‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–æ–¥–ø–∏—Å–æ–∫  
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ÆKassa** - –ø—Ä–∏–µ–º –ø–ª–∞—Ç–µ–∂–µ–π  
‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏  
‚úÖ **–ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** - `/subscription` –¥–ª—è –æ—Ç–º–µ–Ω—ã –ø–æ–¥–ø–∏—Å–∫–∏  

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r requirements.txt
```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `main.py`:**

```python
# –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –æ—Ç BotFather
BOT_TOKEN = '–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞'

# –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã
FREE_CHANNEL_LINK = 'https://t.me/+–≤–∞—à_–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π_–∫–∞–Ω–∞–ª'
PAID_CHANNEL_LINK = 'https://t.me/+–≤–∞—à_–ø–ª–∞—Ç–Ω—ã–π_–∫–∞–Ω–∞–ª'
PAID_CHANNEL_ID = '-1001234567890'  # chat_id –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ (—á–∏—Å–ª–æ —Å –º–∏–Ω—É—Å–æ–º)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π
USE_REAL_PAYMENTS = True  # False –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
PAYMENT_PROVIDER = "robokassa"  # "robokassa", "yookassa" –∏–ª–∏ "mock"

# –î–ª—è –†–æ–±–æ–∫–∞—Å—Å—ã (–ø–æ–ª—É—á–∏—Ç–µ –Ω–∞ https://robokassa.com)
ROBOKASSA_MERCHANT_LOGIN = '–≤–∞—à_merchant_login'
ROBOKASSA_PASSWORD1 = '–≤–∞—à_password1'  # –ü–∞—Ä–æ–ª—å #1
ROBOKASSA_PASSWORD2 = '–≤–∞—à_password2'  # –ü–∞—Ä–æ–ª—å #2
ROBOKASSA_TEST_MODE = True  # False –¥–ª—è –±–æ–µ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞

# –î–ª—è –ÆKassa (–ø–æ–ª—É—á–∏—Ç–µ –Ω–∞ https://yookassa.ru)
YOOKASSA_SHOP_ID = '–≤–∞—à_shop_id'
YOOKASSA_SECRET_KEY = '–≤–∞—à_secret_key'
```

### üÜî –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å chat_id –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞:

1. **–î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–∞–Ω–∞–ª
   - –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞: "–ü—Ä–∏–≥–ª–∞—à–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π", "–ë–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"

2. **–ü–æ–ª—É—á–∏—Ç–µ chat_id:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `python main.py`
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/get_chat_id` –≤ –∫–∞–Ω–∞–ª–µ
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π Chat ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `-1001234567890`)
   - –í—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `PAID_CHANNEL_ID`

3. **–£–¥–∞–ª–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É:**
   - –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è chat_id –º–æ–∂–µ—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É —Å `get_chat_id_command` –∏–∑ –∫–æ–¥–∞

### üí≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –†–æ–±–æ–∫–∞—Å—Å—ã:

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://robokassa.com
   - –°–æ–∑–¥–∞–π—Ç–µ –º–∞–≥–∞–∑–∏–Ω –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ

2. **–ü–æ–ª—É—á–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:**
   - **Merchant Login** - –ª–æ–≥–∏–Ω –º–∞–≥–∞–∑–∏–Ω–∞
   - **Password #1** - –ø–∞—Ä–æ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∏ –ø–ª–∞—Ç–µ–∂–∞
   - **Password #2** - –ø–∞—Ä–æ–ª—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ URL-—ã:**
   - **Result URL:** `https://–≤–∞—à-–¥–æ–º–µ–Ω.ru/robokassa/result`
   - **Success URL:** `https://–≤–∞—à-–¥–æ–º–µ–Ω.ru/robokassa/success`
   - **Fail URL:** `https://–≤–∞—à-–¥–æ–º–µ–Ω.ru/robokassa/fail`

4. **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º:**
   - –í–∫–ª—é—á–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö: `ROBOKASSA_TEST_MODE = True`
   - –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### üí∞ –ê–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–∏ (–†–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏):

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ø–∏—Å–∞–Ω–∏–π –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å **"–†–æ–±–æ–∫–∞—Å—Å–∞ –†–µ–∫—É—Ä—Ä–µ–Ω—Ç"**:
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º –¥–æ–≥–æ–≤–æ—Ä–æ–º
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–∞—Ä—Ç—ã –∏ —Å–ø–∏—Å—ã–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ë–µ–∑ –Ω–µ–≥–æ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∞ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª–µ:**
   - –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ –ø–ª–∞—Ç–Ω—ã–π –∫–∞–Ω–∞–ª
   - –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞: "–ü—Ä–∏–≥–ª–∞—à–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π", "–ë–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"

## –ó–∞–ø—É—Å–∫

```bash
python main.py
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–µ–π

### 1. –ü–µ—Ä–≤–∞—è –æ–ø–ª–∞—Ç–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –≤–æ—Ä–æ–Ω–∫–µ –≤ –±–æ—Ç–µ
- –°–æ–∑–¥–∞–µ—Ç—Å—è –ø–ª–∞—Ç–µ–∂ –≤ –ÆKassa —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ 30 –¥–Ω–µ–π
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω–≤–∞–π—Ç-—Å—Å—ã–ª–∫—É –≤ –∫–∞–Ω–∞–ª

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ
- –ö–∞–∂–¥—ã–π —á–∞—Å –±–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Å—Ç–µ–∫–∞—é—â–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- –ó–∞ 3 –¥–Ω—è –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –ø—ã—Ç–∞–µ—Ç—Å—è —Å–ø–∏—Å–∞—Ç—å –¥–µ–Ω—å–≥–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç—ã
- –ü—Ä–∏ —É—Å–ø–µ—Ö–µ - –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É
- –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ - —É–¥–∞–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –∫–∞–Ω–∞–ª–∞

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π
- `/subscription` - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- –ö–Ω–æ–ø–∫–∞ "–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É" - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

- `main.py` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
- `database.py` - —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite
- `payment_system.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- `subscription_manager.py` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –¥–æ—Å—Ç—É–ø–æ–º
- `requirements.txt` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `bot_database.db` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
```python
USE_REAL_PAYMENTS = False
```

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ —É—Å–ø–µ—à–Ω—ã–µ.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ —Ç–æ–∫–µ–Ω—ã –∏ –∫–ª—é—á–∏ –≤ –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è production
- –†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π  
- –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –ø–ª–∞—Ç–µ–∂–µ–π
- –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ —á–µ—Ä–µ–∑ –ÆKassa –ø–∞–Ω–µ–ª—å
